---
interface Props {
    id?: string;
}

const { id = "deposit-status-modal" } = Astro.props;
---

<div id={id} class="fixed inset-0 z-[10000] hidden">
    <!-- Backdrop -->
    <div
        id="status-backdrop"
        class="absolute inset-0 bg-black/80 backdrop-blur-md transition-opacity duration-300 opacity-0"
    >
    </div>

    <!-- Modal Panel -->
    <div class="absolute inset-0 flex items-center justify-center p-4">
        <div
            class="bg-white rounded-[2rem] w-full max-w-sm p-8 shadow-2xl transform scale-90 opacity-0 transition-all duration-300 relative border border-gray-100"
            id="status-content"
        >
            <!-- Loading State -->
            <div id="status-loading" class="hidden flex-col items-center py-8">
                <div class="relative w-20 h-20 mb-6">
                    <div
                        class="absolute inset-0 rounded-full border-4 border-gray-100"
                    >
                    </div>
                    <div
                        class="absolute inset-0 rounded-full border-4 border-[#0C1A18] border-t-transparent animate-spin"
                    >
                    </div>
                </div>
                <h3 class="text-xl font-black text-[#0C1A18] mb-2">
                    Memproses Deposit
                </h3>
                <p class="text-gray-400 text-sm text-center">
                    Mohon tunggu sebentar...
                </p>
            </div>

            <!-- Success State -->
            <div id="status-success" class="hidden flex-col items-center py-4">
                <div
                    class="w-20 h-20 bg-emerald-50 rounded-full flex items-center justify-center mb-6 text-emerald-500"
                >
                    <svg
                        class="w-10 h-10"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                        ><path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="3"
                            d="M5 13l4 4L19 7"></path></svg
                    >
                </div>
                <h3 class="text-2xl font-black text-[#0C1A18] mb-2">
                    Deposit Berhasil!
                </h3>
                <p class="text-gray-400 text-sm text-center mb-8">
                    Saldo telah ditambahkan ke akun Anda.
                </p>
                <button
                    onclick="closeStatusModal()"
                    class="w-full py-4 bg-[#0C1A18] text-white font-bold rounded-xl shadow-lg hover:bg-[#152A26] transition-all transform active:scale-[0.98]"
                >
                    Tutup
                </button>
            </div>

            <!-- Waiting Payment / Pending State -->
            <div id="status-pending" class="hidden flex-col items-center py-4">
                <div
                    class="w-20 h-20 bg-amber-50 rounded-full flex items-center justify-center mb-6 text-amber-500"
                >
                    <svg
                        class="w-10 h-10"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                        ><path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"
                        ></path></svg
                    >
                </div>
                <h3 class="text-2xl font-black text-[#0C1A18] mb-2">
                    Menunggu Pembayaran
                </h3>
                <p class="text-gray-400 text-sm text-center mb-8">
                    Silakan selesaikan pembayaran Anda melalui metode yang
                    dipilih.
                </p>
                <button
                    onclick="closeStatusModal()"
                    class="w-full py-4 bg-amber-500 text-white font-bold rounded-xl shadow-lg hover:bg-amber-600 transition-all transform active:scale-[0.98]"
                >
                    Cek Status
                </button>
            </div>

            <!-- Failed State -->
            <div id="status-failed" class="hidden flex-col items-center py-4">
                <div
                    class="w-20 h-20 bg-red-50 rounded-full flex items-center justify-center mb-6 text-red-500"
                >
                    <svg
                        class="w-10 h-10"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                        ><path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M6 18L18 6M6 6l12 12"></path></svg
                    >
                </div>
                <h3 class="text-2xl font-black text-[#0C1A18] mb-2">
                    Gagal Aja!
                </h3>
                <p class="text-gray-400 text-sm text-center mb-8">
                    Terjadi kesalahan saat memproses deposit. Silakan coba lagi.
                </p>
                <button
                    onclick="closeStatusModal()"
                    class="w-full py-4 bg-gray-100 text-[#0C1A18] font-bold rounded-xl hover:bg-gray-200 transition-all"
                >
                    Tutup
                </button>
            </div>
        </div>
    </div>
</div>
