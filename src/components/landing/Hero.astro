---
/**
 * Hero Component
 * Landing page hero section with animated typing effect
 * @version Astro 5.17 compatible
 */
---

<section
    class="pt-28 pb-16 md:pt-36 md:pb-24 lg:pt-44 lg:pb-32 overflow-hidden relative"
>
    <!-- Grid Background -->
    <div
        class="absolute inset-0 -z-10 h-full w-full bg-[#FAFAFA] bg-[linear-gradient(to_right,#8080800a_1px,transparent_1px),linear-gradient(to_bottom,#8080800a_1px,transparent_1px)] bg-[size:40px_40px]"
    >
    </div>

    <div
        class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center relative z-10"
    >
        <h1
            id="hero-headline"
            class="text-4xl sm:text-5xl md:text-7xl font-bold text-[#0f172a] tracking-tight mb-6 md:mb-8 max-w-5xl mx-auto leading-[1.15] md:leading-[1.1]"
        >
            <span class="type-part">Platform </span>
            <br class="hidden md:block" />
            <span class="relative inline-block">
                <span class="type-part">Pertumbuhan Digital</span>
                <span
                    class="absolute w-full h-3 md:h-4 -bottom-1 left-0 -z-10 bg-gradient-to-r from-[#f97316] to-[#fb923c] rounded-full opacity-30"
                ></span>
            </span>
            <span class="type-part"> Paling Lengkap</span>
            <span
                id="cursor"
                class="inline-block w-[3px] h-[1em] bg-[#f97316] ml-1 align-middle animate-pulse"
            ></span>
        </h1>

        <p
            class="text-base sm:text-lg md:text-xl text-gray-500 mb-8 md:mb-12 max-w-2xl mx-auto leading-relaxed font-medium px-4"
        >
            Satu ekosistem untuk semua kebutuhan bisnismu. Dari viralin konten,
            cari cuan lewat link, sampai bisnis PPOB. Semua ada, semua bisa.
        </p>

        <div
            class="flex flex-col sm:flex-row gap-4 sm:gap-5 justify-center items-center w-full sm:w-auto px-4 sm:px-0"
        >
            <a
                href="/auth/register"
                class="w-full sm:w-auto px-8 py-4 md:px-10 md:py-5 bg-[#0f172a] text-white rounded-2xl font-bold text-base md:text-lg hover:bg-[#1e293b] transition-all shadow-xl hover:shadow-2xl hover:-translate-y-1 active:scale-[0.98]"
            >
                <i class="fa-solid fa-rocket mr-2"></i> Mulai Gratis Sekarang
            </a>
            <a
                href="#how-it-works"
                class="w-full sm:w-auto px-8 py-4 md:px-10 md:py-5 bg-white text-[#0f172a] border border-gray-200 rounded-2xl font-bold text-base md:text-lg hover:bg-gray-50 hover:border-gray-300 transition-all shadow-lg hover:shadow-xl hover:-translate-y-1 active:scale-[0.98]"
            >
                <i class="fa-solid fa-play mr-2"></i> Pelajari Cara Kerjanya
            </a>
        </div>
    </div>
</section>

<script>
    document.addEventListener("DOMContentLoaded", (): void => {
        const parts = document.querySelectorAll<HTMLElement>(".type-part");
        if (parts.length === 0) return;

        const originalTexts: string[] = Array.from(parts).map(
            (part) => part.textContent || "",
        );

        // Clear initial text
        parts.forEach((part) => (part.textContent = ""));

        let partIndex: number = 0;
        let charIndex: number = 0;

        function type(): void {
            if (partIndex < parts.length) {
                const currentPart = parts[partIndex];
                const currentText = originalTexts[partIndex];

                if (charIndex < currentText.length) {
                    currentPart.textContent += currentText.charAt(charIndex);
                    charIndex++;
                    setTimeout(type, 50);
                } else {
                    partIndex++;
                    charIndex = 0;
                    setTimeout(type, 100);
                }
            }
        }

        setTimeout(type, 500);
    });
</script>
